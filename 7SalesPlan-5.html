<!DOCTYPE html>
<html lang="zh-Hant" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å“ç¢¼è³‡è¨Š MES BOX 2025 æ•´åˆéŠ·å”®æˆ°ç•¥è¨ˆç•«</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f4f7f9; /* A light, neutral background */
            color: #1e293b; /* slate-800 for primary text */
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
            border-bottom: 2px solid transparent;
        }
        .nav-link.active, .nav-link:hover {
            color: #2563eb; /* blue-600 */
            border-bottom-color: #2563eb;
        }
        .content-section {
            scroll-margin-top: 80px;
        }
        .card {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
            border: 1px solid #e5e7eb;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .quarter-tab {
            transition: all 0.3s ease;
        }
        .quarter-tab.active {
            background-color: #2563eb;
            color: white;
        }
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
            max-width: 300px;
            margin: auto;
        }
        .month-accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .grant-status-active { background-color: #16a34a; color: white; }
        .grant-status-upcoming { background-color: #f59e0b; color: white; }
        .grant-status-past { background-color: #64748b; color: white; }
        .details-content { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-in-out; }
    </style>
</head>
<body class="text-gray-900">

    <header class="bg-white/90 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-20">
                <h1 class="text-xl md:text-2xl font-black">MES BOX 2025 æ•´åˆéŠ·å”®è¨ˆç•«</h1>
                <nav class="hidden md:flex items-center space-x-4 lg:space-x-6 text-sm lg:text-base">
                    <a href="#objective" class="nav-link font-semibold">ç›®æ¨™ (O)</a>
                    <a href="#goals" class="nav-link font-semibold">æŒ‡æ¨™ (G)</a>
                    <a href="#playbook" class="nav-link font-semibold">æˆ°ç•¥æ‰‹å†Š (S)</a>
                    <a href="#measures" class="nav-link font-semibold">åŸ·è¡Œæ–¹æ¡ˆ (M)</a>
                    <a href="#risks" class="nav-link font-semibold">é¢¨éšªç®¡ç†</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-12">
        <!-- Objective -->
        <section id="objective" class="content-section text-center mb-16">
            <div class="card p-8 bg-blue-600 text-white">
                <h2 class="text-sm font-bold uppercase text-blue-200 tracking-widest">OBJECTIVE (çµ‚æ¥µç›®æ¨™)</h2>
                <p class="text-2xl md:text-3xl font-bold mt-4 max-w-4xl mx-auto">
                    å°‡ MES BOX å®šä½ç‚ºå°ç£ä¸­å°ä¼æ¥­æ•¸ä½è½‰å‹çš„ã€Œç¬¬ä¸€æ­¥è§£æ±ºæ–¹æ¡ˆã€ï¼Œé€éæˆç‚ºå…¶é€²å…¥æ™ºæ…§è£½é€ é ˜åŸŸçš„é è¨­å…¥é–€é¸é …ï¼Œç²å–æ±ºå®šæ€§çš„å¸‚å ´é ˜å°åœ°ä½ã€‚
                </p>
            </div>
        </section>

        <!-- Goals -->
        <section id="goals" class="content-section mb-16">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold">å…·é«”ç›®æ¨™ (Goals)</h2>
                <p class="text-gray-600 mt-2">ç”±3äººæ¥­å‹™åœ˜éšŠï¼Œé”æˆä»¥ä¸‹å¹´åº¦é‡åŒ–æŒ‡æ¨™</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
                <div class="card p-6 text-center">
                    <p class="text-gray-500">å¹´åº¦ç¸½æ¥­ç¸¾</p>
                    <p class="text-4xl font-extrabold text-green-600 my-2">NT$ <span class="counter" data-target="30000000">0</span></p>
                </div>
                <div class="card p-6 text-center">
                    <p class="text-gray-500">å¹´åº¦ç¸½éŠ·å”®å¥—æ•¸</p>
                    <p class="text-4xl font-extrabold text-blue-600 my-2"><span class="counter" data-target="100">0</span> å¥—</p>
                </div>
                <div class="card p-6 text-center">
                    <p class="text-gray-500">å¹´åº¦æœ‰æ•ˆå•†æ©Ÿ</p>
                    <p class="text-4xl font-extrabold text-yellow-600 my-2"><span class="counter" data-target="300">0</span> ä»¶</p>
                </div>
                <div class="card p-6 text-center">
                    <p class="text-gray-500">å¹´åº¦æ½›åœ¨å®¢æˆ¶</p>
                    <p class="text-4xl font-extrabold text-purple-600 my-2"><span class="counter" data-target="1500">0</span> ç­†</p>
                </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="card p-6">
                    <h3 class="font-bold text-lg text-center mb-4">æ¥­ç¸¾ç›®æ¨™æ§‹æˆ</h3>
                    <div class="chart-container"><canvas id="revenueChart"></canvas></div>
                </div>
                <div class="card p-6">
                    <h3 class="font-bold text-lg text-center mb-4">éŠ·å”®å¥—æ•¸ç›®æ¨™æ§‹æˆ</h3>
                    <div class="chart-container"><canvas id="unitsChart"></canvas></div>
                </div>
            </div>
        </section>

        <!-- Playbook (Strategies) -->
        <section id="playbook" class="content-section mb-16">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold">æˆ°ç•¥æ‰‹å†Š (Strategies)</h2>
                <p class="max-w-3xl mx-auto text-slate-600 mt-2">æˆ‘å€‘çš„æˆåŠŸå»ºç«‹åœ¨ä¸‰å¤§æˆ°ç•¥æ”¯æŸ±ä¹‹ä¸Šï¼Œè¼”ä»¥å¸‚å ´æ´å¯Ÿèˆ‡ç«¶çˆ­åˆ†æã€‚</p>
            </div>

            <!-- Strategic Pillars -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
                <div class="card p-6">
                    <h3 class="font-bold text-xl mb-3 text-center">S1: ç²¾æº–å®šä½</h3>
                    <p class="text-center text-gray-600 mb-4">å°‡ç”¢å“èˆ‡è£œåŠ©ã€ESGåˆè¦æ·±åº¦ç¶‘ç¶ï¼ŒéŠ·å”®ã€Œè³¦èƒ½å·¥å…·ã€è€Œéåƒ…æ˜¯ç³»çµ±ã€‚</p>
                    <ul class="space-y-3 text-sm">
                        <li class="bg-gray-50 p-3 rounded-lg"><strong>æ•¸ä½è½‰å‹ç¬¬ä¸€æ­¥ï¼š</strong>ç›´æ“Šä¸­å°ä¼æ¥­ã€Œä¸çŸ¥ã€ä¸æ˜“ã€ä¸è¶³ã€çš„è½‰å‹å¿ƒé­”ã€‚</li>
                        <li class="bg-gray-50 p-3 rounded-lg"><strong>æ”¿åºœè£œåŠ©é‡‘é‘°ï¼š</strong>å°‡æ¡è³¼æˆæœ¬é‡æ–°æ¡†æ¶ç‚ºæ§“æ¡¿æ”¿åºœè³‡é‡‘çš„æ©Ÿæœƒã€‚</li>
                        <li class="bg-gray-50 p-3 rounded-lg"><strong>ç¢³ç›¤æŸ¥å°±ç·’ï¼š</strong>ç‚ºå¤–éŠ·å°å‘å®¢æˆ¶æä¾›ã€Œæœªä¾†ä¿éšœã€ï¼Œæ»¿è¶³ç¶ è‰²ä¾›æ‡‰éˆè¦æ±‚ã€‚</li>
                    </ul>
                </div>
                <div class="card p-6">
                    <h3 class="font-bold text-xl mb-3 text-center">S2: åŠ é€Ÿå¸‚å ´é€²å…¥</h3>
                    <p class="text-center text-gray-600 mb-4">é…åˆè£œåŠ©æ™‚ç¨‹ç™¼å‹•æ”»å‹¢ï¼Œé–å®šé«˜ç—›é»ç”¢æ¥­ï¼Œå‰µé€ æ¡è³¼ç·Šè¿«æ„Ÿã€‚</p>
                     <ul class="space-y-3 text-sm">
                        <li class="bg-gray-50 p-3 rounded-lg"><strong>ç›®æ¨™ç”¢æ¥­å‚ç›´æ‰“æ“Šï¼š</strong>é›†ä¸­è³‡æºæ–¼å¡‘è† å°„å‡ºã€é‡‘å±¬åŠ å·¥ç­‰é«˜å›å ±ç”¢æ¥­ã€‚</li>
                        <li class="bg-gray-50 p-3 rounded-lg"><strong>ç·Šæ‰£è£œåŠ©æ™‚ç¨‹ï¼š</strong>ä»¥æ”¿åºœè²¡æ”¿æ—¥æ›†ç‚ºç¯€å¥ï¼Œè¦åŠƒå…·æ™‚æ•ˆæ€§çš„éŠ·å”®æˆ°å½¹ã€‚</li>
                        <li class="bg-gray-50 p-3 rounded-lg"><strong>å»ºç«‹æ¨è–¦ç”Ÿæ…‹ç³»ï¼š</strong>èˆ‡ä¼ç®¡é¡§å•ã€è£œåŠ©ä»£è¾¦å…¬å¸åˆä½œï¼Œæ“´å¤§è§¸è§’ã€‚</li>
                    </ul>
                </div>
                <div class="card p-6">
                    <h3 class="font-bold text-xl mb-3 text-center">S3: è³¦èƒ½éŠ·å”®åŸ·è¡Œ</h3>
                    <p class="text-center text-gray-600 mb-4">å°‡åœ˜éšŠè½‰å‹ç‚ºé¡§å•ï¼Œæä¾›è¶…è¶Šç”¢å“çš„åƒ¹å€¼ï¼Œä¸¦ä»¥ROIé©…å‹•éŠ·å”®ã€‚</p>
                     <ul class="space-y-3 text-sm">
                        <li class="bg-gray-50 p-3 rounded-lg"><strong>é¡§å•å¼éŠ·å”®æ¨¡å‹ï¼š</strong>åŸ¹è¨“åœ˜éšŠå…·å‚™è¨ºæ–·ã€è£œåŠ©å°èˆªèˆ‡ROIé‡åŒ–èƒ½åŠ›ã€‚</li>
                        <li class="bg-gray-50 p-3 rounded-lg"><strong>éšæ¢¯å¼å®šåƒ¹ï¼š</strong>ä»¥ã€Œæ ¸å¿ƒåŒ…+è¨‚é–±æ¨¡çµ„ã€æ¨¡å¼é™ä½åˆæœŸé–€æª»ï¼Œå‰µé€ é•·æœŸæ”¶å…¥ã€‚</li>
                        <li class="bg-gray-50 p-3 rounded-lg"><strong>ROIé©…å‹•å·¥å…·åŒ…ï¼š</strong>æä¾›ROIè¨ˆç®—å™¨ã€ç”¢æ¥­æ¡ˆä¾‹åº«ç­‰æ­¦å™¨ï¼Œå°‡åƒ¹å€¼å…·è±¡åŒ–ã€‚</li>
                    </ul>
                </div>
            </div>
             <div class="card p-6 mt-8 bg-blue-50 border-blue-200">
                <h3 class="font-bold text-xl mb-2 text-blue-800">ğŸš€ æ ¸å¿ƒè³¦èƒ½ç­–ç•¥: IIoT/SCADA æ•´åˆæ–¹æ¡ˆ</h3>
                <p class="text-blue-700">èˆ‡ **é¢¨å·½é”ç§‘æŠ€** åˆä½œï¼Œå…±åŒé–‹ç™¼ IIoT/SCADA èˆ‡é›²ç«¯ MES çš„æ•´åˆè§£æ±ºæ–¹æ¡ˆã€‚æ­¤åˆä½œå°‡å¤§å¹…å¼·åŒ– **Enterprise ä¼æ¥­ç‰ˆ** çš„ç”¢å“ç«¶çˆ­åŠ›ï¼Œç‚ºä¸‹åŠå¹´çš„é«˜åƒ¹å€¼å¸‚å ´å®¢æˆ¶æä¾›å¾æ•¸æ“šæ¡é›†åˆ°è£½é€ åŸ·è¡Œçš„å®Œæ•´æ–¹æ¡ˆï¼Œæ˜¯é”æˆå¹´åº¦ç›®æ¨™çš„é—œéµå¼•æ“ã€‚</p>
            </div>

            <!-- Market Intelligence -->
            <div class="mt-16">
                 <div class="text-center mb-12">
                    <h2 class="text-2xl font-bold text-slate-800">å¸‚å ´æƒ…å ±å„€è¡¨æ¿</h2>
                    <p class="max-w-3xl mx-auto text-slate-600 mt-2">çŸ¥å·±çŸ¥å½¼ï¼Œç™¾æˆ°ä¸æ®†ã€‚æ­¤ç‚ºæˆ‘å€‘çš„æˆ°è¡“æƒ…å ±ä¸­å¿ƒã€‚</p>
                </div>
                <div class="card p-6 md:p-8">
                    <h3 class="font-bold text-xl mb-4">æ”¿åºœè£œåŠ©å„€è¡¨æ¿ (å‹•æ…‹æ›´æ–°)</h3>
                    <p class="text-sm text-gray-600 mb-4">æ­¤å„€è¡¨æ¿æ ¹æ“š<span class="font-bold text-red-500">ä»Šå¤© (<span id="today-date"></span>)</span> çš„æ—¥æœŸï¼Œè‡ªå‹•æ¨™ç¤ºå‡ºå„é …è£œåŠ©çš„ç”³è«‹ç‹€æ…‹ï¼Œå¹«åŠ©æˆ‘å€‘ç²¾æº–å®šä½æ©Ÿæœƒã€‚</p>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm text-left text-slate-600">
                            <thead class="text-xs text-slate-700 uppercase bg-slate-100">
                                <tr>
                                    <th class="px-4 py-3">è¨ˆç•«åç¨±</th>
                                    <th class="px-4 py-3">ç”³è«‹æœŸé–“</th>
                                    <th class="px-4 py-3">ç‹€æ…‹</th>
                                    <th class="px-4 py-3">éŠ·å”®åˆ‡å…¥é»</th>
                                </tr>
                            </thead>
                            <tbody id="grants-table-body">
                                <!-- Grant rows will be injected by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-8">
                    <div class="card p-6 cursor-pointer" onclick="toggleDetails('comp-sap')">
                        <h3 class="font-bold text-lg">åœ‹éš›å·¨é ­ (SAP/Siemens)</h3>
                        <p class="text-sm text-slate-500">ç›®æ¨™ï¼šå¤§å‹è·¨åœ‹ä¼æ¥­</p>
                        <div id="comp-sap" class="details-content mt-4 pt-4 border-t">
                            <p class="font-semibold text-blue-600">æˆ‘æ–¹è«–è¿°ï¼š</p>
                            <p class="text-sm text-slate-700">ã€ŒSAPæ˜¯é ‚ç´šç³»çµ±ï¼Œä½†å°è²´å…¬å¸è€Œè¨€å¦‚åŒç”¨ç‰›åˆ€æ®ºé›ã€‚æˆ‘å€‘çš„æ–¹æ¡ˆèƒ½ç”¨å…¶5%çš„æˆæœ¬ï¼Œåœ¨ä¸‰å€‹æœˆå…§è§£æ±ºæ‚¨80%æœ€ç—›çš„å•é¡Œã€‚ã€</p>
                        </div>
                    </div>
                    <div class="card p-6 cursor-pointer" onclick="toggleDetails('comp-digi')">
                        <h3 class="font-bold text-lg">æœ¬åœŸå† è» (é¼è¯æ™ºèƒ½)</h3>
                        <p class="text-sm text-slate-500">ç›®æ¨™ï¼šä¸­å¤§å‹ã€é«˜ç§‘æŠ€ç”¢æ¥­</p>
                         <div id="comp-digi" class="details-content mt-4 pt-4 border-t">
                            <p class="font-semibold text-blue-600">æˆ‘æ–¹è«–è¿°ï¼š</p>
                            <p class="text-sm text-slate-700">ã€Œé¼è¯åœ¨è™•ç†å¤§å‹è¤‡é›œå°ˆæ¡ˆä¸Šå¾ˆå‡ºè‰²ã€‚ä½†æˆ‘å€‘å°ˆæ³¨æ–¼æä¾›æ¨™æº–åŒ–ã€å¿«é€Ÿè¦‹æ•ˆçš„ã€ç”¢å“ã€ï¼Œè€Œéä¸€å ´é•·é”ä¸€å¹´çš„å°ˆæ¡ˆï¼Œè®“æ‚¨ä»¥æœ€ä½é¢¨éšªçœ‹åˆ°å›å ±ã€‚ã€</p>
                        </div>
                    </div>
                    <div class="card p-6 cursor-pointer" onclick="toggleDetails('comp-ares')">
                        <h3 class="font-bold text-lg">æœ¬åœŸå† è» (è³‡é€šé›»è…¦)</h3>
                        <p class="text-sm text-slate-500">ç›®æ¨™ï¼šéœ€é«˜è¿½æº¯æ€§ç”¢æ¥­</p>
                         <div id="comp-ares" class="details-content mt-4 pt-4 border-t">
                            <p class="font-semibold text-blue-600">æˆ‘æ–¹è«–è¿°ï¼š</p>
                            <p class="text-sm text-slate-700">ã€ŒciMesåœ¨å“è³ªè¿½æº¯ä¸Šå¾ˆå°ˆæ¥­ã€‚æˆ‘å€‘çš„æ ¸å¿ƒåŒ…åŒæ¨£åŒ…å«å®Œæ•´çš„ç”Ÿç”¢å±¥æ­·ï¼Œä¸”å°å…¥é–€æª»æ›´ä½ï¼Œèƒ½è®“æ‚¨æ›´å¿«æ»¿è¶³å®¢æˆ¶ç¨½æ ¸è¦æ±‚ã€‚ã€</p>
                        </div>
                    </div>
                    <div class="card p-6 cursor-pointer" onclick="toggleDetails('comp-fpg')">
                        <h3 class="font-bold text-lg">å°å¡‘ç¶²</h3>
                        <p class="text-sm text-slate-500">ç›®æ¨™ï¼šå‚³ç”¢ã€è¿½æ±‚ç©©å®šæ€§ä¼æ¥­</p>
                         <div id="comp-fpg" class="details-content mt-4 pt-4 border-t">
                            <p class="font-semibold text-blue-600">æˆ‘æ–¹è«–è¿°ï¼š</p>
                            <p class="text-sm text-slate-700">ã€Œå°å¡‘ç¶²çš„ç³»çµ±éå¸¸å¯é ï¼Œä½†æ¶æ§‹é¾å¤§ã€‚æˆ‘å€‘çš„MES BOXæ›´è¼•é‡ã€æ›´æœ‰å½ˆæ€§ï¼Œç‰¹åˆ¥é©åˆå°‹æ±‚å¿«é€Ÿå°å…¥ã€éˆæ´»èª¿æ•´çš„ä¸­å°å‹å·¥å» ã€‚ã€</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Measures -->
        <section id="measures" class="content-section mb-16">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold">åŸ·è¡Œæ–¹æ¡ˆ (Measures)</h2>
                <p class="text-gray-600 mt-2">å°‡å¹´åº¦è¨ˆç•«æ‹†è§£ç‚ºå­£åº¦èˆ‡æœˆä»½ï¼Œç¢ºä¿ç­–ç•¥çš„æœ‰æ•ˆåŸ·è¡Œèˆ‡å³æ™‚èª¿æ•´</p>
            </div>
            <div class="card p-6 md:p-8">
                <div class="flex flex-wrap justify-center border-b border-gray-200 mb-6">
                    <button data-quarter="q1" class="quarter-tab text-lg font-semibold py-3 px-4 md:px-6 -mb-px border-b-2 border-transparent rounded-t-lg">ç¬¬ä¸€å­£åº¦ (Q1)</button>
                    <button data-quarter="q2" class="quarter-tab text-lg font-semibold py-3 px-4 md:px-6 -mb-px border-b-2 border-transparent rounded-t-lg">ç¬¬äºŒå­£åº¦ (Q2)</button>
                    <button data-quarter="q3" class="quarter-tab text-lg font-semibold py-3 px-4 md:px-6 -mb-px border-b-2 border-transparent rounded-t-lg">ç¬¬ä¸‰å­£åº¦ (Q3)</button>
                    <button data-quarter="q4" class="quarter-tab text-lg font-semibold py-3 px-4 md:px-6 -mb-px border-b-2 border-transparent rounded-t-lg">ç¬¬å››å­£åº¦ (Q4)</button>
                </div>
                <div id="measures-content">
                    <!-- Quarterly content will be injected here -->
                </div>
            </div>
        </section>

        <!-- Risk Management Section -->
        <section id="risks" class="content-section">
            <h2 class="text-3xl font-bold text-center mb-8">é¢¨éšªè©•ä¼°èˆ‡æ”¹å–„æ–¹æ¡ˆ</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                 <!-- Risk Cards will be injected by JS -->
            </div>
        </section>
    </main>

    <footer class="text-center py-8 mt-16 text-gray-500 border-t">
        <p>å“ç¢¼è³‡è¨Šè‚¡ä»½æœ‰é™å…¬å¸ | 2025å¹´åº¦æ•´åˆéŠ·å”®æˆ°ç•¥è¨ˆç•«</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        // --- Data Definitions ---
        const goalsData = {
            revenue: { labels: ['Essential', 'Standard', 'Enterprise', 'åŠ å€¼æœå‹™'], data: [9900000, 8940000, 9760000, 1400000], colors: ['#3b82f6', '#22c55e', '#f59e0b', '#a5b4fc'] },
            units: { labels: ['Essential', 'Standard', 'Enterprise'], data: [50, 30, 20], colors: ['#8b5cf6', '#14b8a6', '#ec4899'] }
        };

        const measuresData = {
            q1: { focus: 'è£œåŠ©ç”³è«‹ç¸½å‹•å“¡ & å¸‚å ´é ç†±', months: [ 
                { name: 'M1 (ä¸€æœˆ)', strategy: 'å»ºç«‹è£œåŠ©å°ˆå®¶å½¢è±¡', actions: ['å•Ÿå‹•ã€Œå¦‚ä½•æˆåŠŸç”³è«‹2025è£œåŠ©ã€ç·šä¸Šç ”è¨æœƒç³»åˆ—ã€‚', 'éŠ·å”®åœ˜éšŠå®Œæˆè£œåŠ©è¨ˆç•«æ·±åº¦åŸ¹è¨“ï¼Œä¸¦é€šéèªè­‰ã€‚', 'èˆ‡é¢¨å·½é”å•Ÿå‹•æ•´åˆæ–¹æ¡ˆéœ€æ±‚åˆ†æã€‚'], kpi: 'ç´¯ç©200åæ½›åœ¨å®¢æˆ¶åå–®ï¼›åœ˜éšŠå…¨å“¡é€šéè£œåŠ©èªè­‰ã€‚' }, 
                { name: 'M2 (äºŒæœˆ)', strategy: 'ä¸»æ”»æœŸï¼šå‰µé€ ç·Šè¿«æ„Ÿ', actions: ['æ‰€æœ‰è¡ŒéŠ·ç®¡é“å¼·åŠ›æ”¾é€ã€Œ3/20è£œåŠ©æˆªæ­¢ã€å€’æ•¸è¨Šæ¯ã€‚', 'éŠ·å”®åœ˜éšŠæ ¸å¿ƒä»»å‹™ï¼šå¼•å°å®¢æˆ¶å®Œæˆã€Œä½ç¢³åŠæ™ºæ…§åŒ–è£œåŠ©ã€ç”³è«‹æ–‡ä»¶ã€‚', 'åˆä½œé€²è¡ŒIIoT+MESåŸå‹é–‹ç™¼ã€‚'], kpi: 'æˆåŠŸå”åŠ©30å®¶å®¢æˆ¶æäº¤è£œåŠ©ç”³è«‹ï¼›å®ŒæˆSCADAåŸå‹ã€‚' }, 
                { name: 'M3 (ä¸‰æœˆ)', strategy: 'éå›ºæˆ°æœèˆ‡éœ€æ±‚æ·±åŒ–', actions: ['é‡å°å·²ç”³è«‹è£œåŠ©å®¢æˆ¶ï¼Œé€²è¡Œéœ€æ±‚è¨ªè«‡ï¼Œæ¨å»£Standard/Enterpriseæ–¹æ¡ˆã€‚', 'å®ŒæˆIIoTæ•´åˆæ–¹æ¡ˆçš„è³‡æ–™ä¸²æ¥èˆ‡é›™å‘æ¸¬è©¦ã€‚', 'èˆ‰è¾¦ã€Œå·¥å» é€æ˜åŒ–ï¼šå¾æ•¸æ“šåˆ°åˆ©æ½¤ã€Webinarã€‚'], kpi: 'å°‡10å€‹è£œåŠ©æ¡ˆå®¢æˆ¶è½‰åŒ–ç‚ºStandardä»¥ä¸Šå•†æ©Ÿï¼›å®Œæˆæ•´åˆæ¸¬è©¦å ±å‘Šã€‚' } 
            ] },
            q2: { focus: 'ä¸»åŠ›æ–¹æ¡ˆéŠ·å”® & æ•´åˆæ–¹æ¡ˆè½åœ°', months: [ 
                { name: 'M4 (å››æœˆ)', strategy: 'å¼·æ”»é«˜ç—›é»ç”¢æ¥­', actions: ['é‡å°å¡‘è† å°„å‡ºã€é‡‘å±¬åŠ å·¥ç”¢æ¥­ï¼Œæ¨å»£Standardæ–¹æ¡ˆèˆ‡æˆåŠŸæ¡ˆä¾‹ã€‚', 'èˆ‡é¢¨å·½é”å®Œæˆã€Œæ±½è»Šé›¶ä»¶è£½é€ ã€å ´æ™¯Demoï¼Œä¸¦èˆ‰è¾¦ç”¢æ¥­å°ˆå±¬Webinarã€‚'], kpi: 'Standardæ–¹æ¡ˆéŠ·å”®é”8å¥—ï¼›æ±½è»Šå ´æ™¯Webinarè§¸åŠ50å®¶æ½›åœ¨å®¢æˆ¶ã€‚' }, 
                { name: 'M5 (äº”æœˆ)', strategy: 'çªç ´Enterpriseèˆ‡å»ºç«‹å£ç¢‘', actions: ['é–å®šæŒ‡æ¨™å®¢æˆ¶ï¼Œæ¨å‹•é¦–å€‹Enterpriseæ–¹æ¡ˆï¼Œä¸¦ä»¥å…¶ä½œç‚ºæ¨™ç«¿æ¡ˆä¾‹ã€‚', 'å®Œæˆã€Œé£Ÿå“åŒ…è£ã€å ´æ™¯Demoèˆ‡æ•´åˆç©©å®šæ€§æ¸¬è©¦ã€‚'], kpi: 'ç°½è¨‚é¦–ä»½Enterpriseåˆç´„ï¼›ç”¢å‡ºç©©å®šæ€§æ¸¬è©¦å ±å‘Šã€‚' }, 
                { name: 'M6 (å…­æœˆ)', strategy: 'æ•´åˆæ–¹æ¡ˆå•†æ¥­åŒ–', actions: ['æ­£å¼å°å¤–æ¨å»£IIoTæ•´åˆæ–¹æ¡ˆï¼Œä¸»æ‰“ã€Œæ•¸æ“šæ¡é›†åˆ°é›²ç«¯æˆ°æƒ…å®¤ã€å®Œæ•´åƒ¹å€¼ã€‚', 'å•Ÿå‹•é€šè·¯(OEM)åˆä½œæ´½è«‡ï¼Œæä¾›åˆä½œå¤¥ä¼´å·¥å…·åŒ…ã€‚', 'å•Ÿå‹•æ•´åˆæ–¹æ¡ˆçš„å®¢æˆ¶ç¾å ´è©¦é»éƒ¨ç½²ã€‚'], kpi: 'ç°½è¨‚é¦–ä»½æ•´åˆæ–¹æ¡ˆåˆç´„ï¼›ç°½è¨‚2å®¶é€šè·¯åˆä½œå‚™å¿˜éŒ„ã€‚' } 
            ] },
            q3: { focus: 'å…¨é¢é€²æ”»ï¼šä¸»æ‰“é«˜åƒ¹å€¼æ•´åˆæ–¹æ¡ˆ', months: [ 
                { name: 'M7 (ä¸ƒæœˆ)', strategy: 'æˆåŠŸæ¡ˆä¾‹è¡ŒéŠ· & ESGåƒ¹å€¼å»¶ä¼¸', actions: ['é‹ç”¨ä¸ŠåŠå¹´æˆåŠŸæ¡ˆä¾‹ï¼Œé‡å°æ±½è»Šã€é£Ÿå“ç”¢æ¥­å¼·åŠ›æ¨å»£Enterpriseæ•´åˆæ–¹æ¡ˆã€‚', 'å°‡éŠ·å”®è«–è¿°èˆ‡ä¸‹åŠå¹´ã€Œé–‹æ‹“å¤šå…ƒå¸‚å ´è£œåŠ©ã€æ›é‰¤ï¼Œå¼·èª¿ä¾›æ‡‰éˆéŸŒæ€§ã€‚', 'æ¨å»£ã€Œç¢³ç›¤æŸ¥å°±ç·’ã€åƒ¹å€¼ä¸»å¼µã€‚'], kpi: 'æ•´åˆæ–¹æ¡ˆå‰µé€ 10å€‹æœ‰æ•ˆå•†æ©Ÿï¼›å®Œæˆ3ä»½ESGä¸»é¡Œç™½çš®æ›¸ã€‚' }, 
                { name: 'M8 (å…«æœˆ)', strategy: 'é«˜åƒ¹å€¼æ–¹æ¡ˆæ¨å»£', actions: ['èˆ‰è¾¦ç¬¬äºŒå ´é«˜éšç·šä¸Šç ”è¨æœƒï¼šã€ŒAIèˆ‡æ•¸ä½é›™ç”Ÿå¦‚ä½•è½åœ°ï¼Ÿã€ï¼Œæ¨å»£Enterpriseæ•´åˆæ–¹æ¡ˆã€‚', 'ç°½è¨‚ç¬¬ä¸€ä»½ç™½ç‰Œæˆæ¬Š(OEM)åˆç´„ã€‚'], kpi: 'Enterpriseæ•´åˆæ–¹æ¡ˆéŠ·å”®é”5å¥—ï¼›ç°½è¨‚ä¸€ä»½ç™½æ¨™åˆç´„ã€‚' }, 
                { name: 'M9 (ä¹æœˆ)', strategy: 'å­£åº¦æ¥­ç¸¾è¡åˆº', actions: ['æä¾›Q3å­£æœ«é™æ™‚å„ªæƒ ï¼Œä¸»æ‰“ã€Œæ ¸å¿ƒåŒ…+AIæ¨¡çµ„ã€çµ„åˆã€‚', 'é€éç™½ç‰Œåˆä½œå¤¥ä¼´ç²å–è½‰ä»‹å•†æ©Ÿï¼Œä¸¦èˆ‰è¾¦å¤¥ä¼´å°ˆå±¬åŸ¹è¨“ã€‚'], kpi: 'å­£åº¦æ¥­ç¸¾é”æˆç‡100%ï¼›å¤¥ä¼´ç‡Ÿæ”¶è²¢ç»é”50è¬ã€‚' } 
            ] },
            q4: { focus: 'éå›ºé ˜å°åœ°ä½ & ä½ˆå±€æ˜å¹´', months: [ 
                { name: 'M10 (åæœˆ)', strategy: 'å®¢æˆ¶å‡ç´šèˆ‡çºŒç´„', actions: ['å°æ½›åœ¨å®¢æˆ¶é€²è¡Œæœ€å¾Œä¸€æ³¢æ»¾å‹•å¼è£œåŠ©æ¡ˆæ¨å»£ã€‚', 'å‘å·²å°å…¥Essential/Standardæ–¹æ¡ˆçš„å®¢æˆ¶ï¼Œæ¨éŠ·å‡ç´šè‡³Enterpriseæ•´åˆæ–¹æ¡ˆã€‚', 'å•Ÿå‹•å¹´åº¦å®¢æˆ¶æ»¿æ„åº¦èª¿æŸ¥ã€‚'], kpi: 'é€éè£œåŠ©æ¡ˆæˆäº¤5å¥—Essentialï¼›å®Œæˆ5å€‹å®¢æˆ¶çºŒç´„å‡ç´šã€‚' }, 
                { name: 'M11 (åä¸€æœˆ)', strategy: 'é–å®šä¼æ¥­é ç®—', actions: ['å¼·åŠ›è¿½è¹¤Enterpriseæ•´åˆæ–¹æ¡ˆå•†æ©Ÿï¼Œæä¾›ROIå·¥å…·åŒ…ï¼Œå”åŠ©å®¢æˆ¶ç´å…¥ä¸‹å¹´åº¦é ç®—ã€‚', 'æ‹œè¨ªå¹´åº¦é‡é»å®¢æˆ¶ï¼Œæ”¶é›†ä½¿ç”¨å›é¥‹ï¼ŒæŒ–æ˜æ–°éœ€æ±‚ã€‚'], kpi: 'ç¢ºä¿å¹´åº¦Enterprise 20å¥—ç›®æ¨™é”æˆï¼›å®Œæˆ10ä»½å®¢æˆ¶æ·±åº¦è¨ªè«‡å ±å‘Šã€‚' }, 
                { name: 'M12 (åäºŒæœˆ)', strategy: 'å¹´åº¦ç›®æ¨™é”æˆèˆ‡ç¸½çµ', actions: ['é€²è¡Œæœ€å¾Œåˆç´„ç°½è¨‚èˆ‡æ¬¾é …å‚¬æ”¶ã€‚', 'å¬é–‹å¹´åº¦æ¥­å‹™ç¸½çµæœƒè­°ï¼Œæª¢è¨OGSMé”æˆç‹€æ³ï¼Œä¸¦æ ¹æ“šå¸‚å ´å›é¥‹è‰æ“¬ä¸‹å¹´åº¦å„ªåŒ–è¨ˆç•«ã€‚'], kpi: 'å¹´åº¦ç¸½æ¥­ç¸¾é”æˆç‡100%ä»¥ä¸Šï¼›æå‡ºä¸‹å¹´åº¦æ¥­ç¸¾å¢é•·20%ç­–ç•¥è‰æ¡ˆã€‚' } 
            ] }
        };

        const grantsData = [
            { name: "ä¸­å°å‹è£½é€ æ¥­(10äººä»¥ä¸Š)ä½ç¢³åŠæ™ºæ…§åŒ–å‡ç´šè½‰å‹å€‹æ¡ˆè£œåŠ©", start: "2025-02-25", end: "2025-03-20", focus: "æ ¸å¿ƒæˆ°å ´ï¼šè¦†è“‹æ ¸å¿ƒè»Ÿç¡¬é«”åŠå°å…¥è²»ç”¨ã€‚" },
            { name: "æä¾›ä¸­å°å‹è£½é€ æ¥­AIå·¥å…·åº«è£œåŠ©", start: "2025-01-01", end: "2025-12-31", focus: "æ¨¡çµ„è¿½åŠ ï¼šå¼•å°å®¢æˆ¶æ¡è³¼AIæ•¸æ“šåˆ†ææ¨¡çµ„ã€‚" },
            { name: "é–‹æ‹“å¤šå…ƒå¸‚å ´çˆ­å–æµ·å¤–è¨‚å–®è£œåŠ©", start: "2025-07-01", end: "2025-08-31", focus: "åƒ¹å€¼å»¶ä¼¸ï¼šå‘å‡ºå£å°å‘å®¢æˆ¶å¼·èª¿MESå¼·åŒ–ä¾›æ‡‰éˆéŸŒæ€§ã€‚" },
            { name: "å”åŠ©å‚³çµ±ç”¢æ¥­æŠ€è¡“é–‹ç™¼è¨ˆç•«(CITD) - ä¸‹åŠå¹´", start: "2025-06-01", end: "2025-07-31", focus: "ç ”ç™¼å°å‘ï¼šå°‡MESå®šä½ç‚ºå¯¦ç¾ç ”ç™¼ç›®æ¨™çš„å·¥å…·ã€‚" }
        ];

        const riskData = [
            { title: 'æ¸ é“/ç™½æ¨™ç­–ç•¥å¤±æ•—', tracker: 'ç™½æ¨™å¤¥ä¼´ç°½ç´„æ•¸èˆ‡ç‡Ÿæ”¶è²¢ç»', plan: 'Q3çµæŸæ™‚è‹¥ç™½æ¨™ç‡Ÿæ”¶é ä½æ–¼ç›®æ¨™ï¼Œç«‹å³é‡æ–°æª¢è¨åˆ†æ½¤æ©Ÿåˆ¶èˆ‡è³¦èƒ½è¨ˆç•«ã€‚è‹¥ç„¡æ”¹å–„ï¼ŒQ4éœ€å°‡éŠ·å”®è³‡æºå…¨éƒ¨è½‰å›ç›´æ¥éŠ·å”®ã€‚' },
            { title: 'Essential å®¢æˆ¶æ”¯æ´æˆæœ¬éé«˜', tracker: 'Essential å®¢æˆ¶çš„æŠ€è¡“æ”¯æ´å·¥æ™‚ä½”æ¯”', plan: 'åˆ¶å®šåš´æ ¼çš„SLAï¼Œè¶…å‡ºæ™‚æ•¸éœ€ä»˜è²»æˆ–å¼•å°å‡ç´šã€‚å„ªåŒ–ç·šä¸Šæ•™å­¸å½±ç‰‡èˆ‡FAQï¼Œé™ä½åŸºç¤å•é¡Œä½”ç”¨ã€‚' },
            { title: 'åœ˜éšŠç„¡æ³•å…¼é¡§å¤šç·šä½œæˆ°', tracker: 'æ¥­å‹™æ´»å‹•é‡èˆ‡å„æ–¹æ¡ˆææ¡ˆæ¯”ä¾‹', plan: 'Q3èµ·å¯è€ƒæ…®ä¾æ¥­å‹™èƒ½åŠ›åˆ†å·¥ï¼šA/ä¸»ç®¡ä¸»æ”»Enterpriseèˆ‡æ¸ é“ï¼ŒB/C è² è²¬Essential/Standardã€‚' },
            { title: 'å¹´åº¦ç›®æ¨™å£“åŠ›éå¤§', tracker: 'æ¯æœˆ/æ¯å­£çš„æ¥­ç¸¾é”æˆç‡', plan: 'é€£çºŒå…©æœˆæ¥­ç¸¾é”æˆç‡ä½æ–¼70%æ™‚ï¼Œç«‹å³å¬é–‹éŠ·å”®æª¢è¨æœƒè­°ï¼Œåˆ†ææ˜¯æ½›å®¢æ•¸é‡ä¸è¶³é‚„æ˜¯æˆäº¤ç‡éä½ï¼Œä¸¦èª¿æ•´ç­–ç•¥ã€‚' },
        ];


        // --- Navigation Logic ---
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('.content-section');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    navLinks.forEach(link => {
                        link.classList.toggle('active', link.getAttribute('href') === '#' + entry.target.id);
                    });
                }
            });
        }, { rootMargin: '-40% 0px -60% 0px' });
        sections.forEach(section => observer.observe(section));
        navLinks.forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
            });
        });

        // --- Counter Animation ---
        const animateCounters = () => {
            const counters = document.querySelectorAll('.counter');
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const counter = entry.target;
                        const target = +counter.getAttribute('data-target');
                        let current = 0;
                        const updateCounter = () => {
                            const increment = Math.ceil(target / 100);
                            if (current < target) {
                                current += increment;
                                if (current > target) current = target;
                                counter.innerText = current.toLocaleString();
                                requestAnimationFrame(updateCounter);
                            } else {
                                counter.innerText = target.toLocaleString();
                            }
                        };
                        updateCounter();
                        observer.unobserve(counter); // Animate only once
                    }
                });
            }, { threshold: 0.5 });
            counters.forEach(counter => observer.observe(counter));
        };
        
        // --- Doughnut Charts ---
        const doughnutChartOptions = { responsive: true, maintainAspectRatio: false, cutout: '60%', plugins: { legend: { position: 'bottom', labels: { font: { size: 14 } } }, tooltip: { callbacks: { label: function (context) { let label = context.label || ''; if (label) { label += ': '; } if (context.dataset.label === 'NT$') { label += 'NT$ ' + context.raw.toLocaleString(); } else { label += context.raw.toLocaleString() + ' å¥—'; } return label; } } } } };
        new Chart(document.getElementById('revenueChart'), { type: 'doughnut', data: { labels: goalsData.revenue.labels, datasets: [{ label: 'NT$', data: goalsData.revenue.data, backgroundColor: goalsData.revenue.colors }] }, options: doughnutChartOptions });
        new Chart(document.getElementById('unitsChart'), { type: 'doughnut', data: { labels: goalsData.units.labels, datasets: [{ label: 'å¥—', data: goalsData.units.data, backgroundColor: goalsData.units.colors }] }, options: doughnutChartOptions });

        // --- Grants Dashboard ---
        const grantsTableBody = document.getElementById('grants-table-body');
        const today = new Date(); // Use real current date
        document.getElementById('today-date').textContent = today.toLocaleDateString('zh-TW');

        grantsData.forEach(grant => {
            const startDate = new Date(grant.start);
            const endDate = new Date(grant.end);
            endDate.setHours(23, 59, 59, 999); // Include the whole end day
            let status, statusClass;

            if (today < startDate) {
                status = 'å³å°‡é–‹å§‹';
                statusClass = 'grant-status-upcoming';
            } else if (today >= startDate && today <= endDate) {
                status = 'é–‹æ”¾ç”³è«‹ä¸­';
                statusClass = 'grant-status-active';
            } else {
                status = 'å·²æˆªæ­¢';
                statusClass = 'grant-status-past';
            }

            const row = `
                <tr class="bg-white border-b hover:bg-slate-50">
                    <td class="px-4 py-3 font-medium text-slate-900">${grant.name}</td>
                    <td class="px-4 py-3">${grant.start.replaceAll('-', '/')} - ${grant.end.replaceAll('-', '/')}</td>
                    <td class="px-4 py-3">
                        <span class="px-2 py-1 text-xs font-semibold rounded-full ${statusClass}">${status}</span>
                    </td>
                    <td class="px-4 py-3">${grant.focus}</td>
                </tr>
            `;
            grantsTableBody.innerHTML += row;
        });

        // --- Measures Tabs ---
        const quarterTabs = document.querySelectorAll('.quarter-tab');
        const measuresContent = document.getElementById('measures-content');
        function renderQuarterContent(quarterKey) {
            const data = measuresData[quarterKey];
            let contentHTML = `<div class="bg-blue-50 p-4 rounded-lg mb-6 text-center"><h3 class="font-bold text-blue-800">å­£åº¦é‡é»: ${data.focus}</h3></div><div class="space-y-4">`;
            data.months.forEach(month => {
                contentHTML += `<div class="border border-gray-200 rounded-lg"><button class="month-accordion-toggle w-full flex justify-between items-center p-4 text-left font-bold"><span>${month.name} - ${month.strategy}</span><span class="transform transition-transform duration-300 text-xl font-light">+</span></button><div class="month-accordion-content"><div class="p-4 pt-0 grid grid-cols-1 md:grid-cols-2 gap-4"><div class="bg-gray-50 p-3 rounded"><h4 class="font-semibold text-sm text-gray-500 mb-2">å…·é«”åŸ·è¡Œæ–¹æ¡ˆ</h4><ul class="space-y-2 text-sm">${month.actions.map(action => `<li class="flex items-start"><span class="text-blue-500 mr-2 mt-1">âœ“</span><span>${action}</span></li>`).join('')}</ul></div><div class="bg-gray-50 p-3 rounded flex flex-col"><h4 class="font-semibold text-sm text-gray-500 mb-2">æª¢æ ¸æŒ‡æ¨™ (KPI)</h4><p class="text-sm flex-grow">${month.kpi}</p></div></div></div></div>`;
            });
            contentHTML += `</div>`;
            measuresContent.innerHTML = contentHTML;
            document.querySelectorAll('.month-accordion-toggle').forEach(button => {
                button.addEventListener('click', () => {
                    const content = button.nextElementSibling;
                    const icon = button.querySelector('span:last-child');
                    const isOpen = content.style.maxHeight && content.style.maxHeight !== '0px';
                    if(isOpen) {
                        content.style.maxHeight = '0px';
                        icon.style.transform = 'rotate(0deg)';
                    } else {
                        content.style.maxHeight = content.scrollHeight + 'px';
                        icon.style.transform = 'rotate(45deg)';
                    }
                });
            });
        }
        quarterTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                quarterTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                renderQuarterContent(tab.dataset.quarter);
            });
        });
        
        // --- Risk Management Section ---
        const risksContainer = document.querySelector('#risks .grid');
        riskData.forEach(risk => {
            const riskCard = document.createElement('div');
            riskCard.className = 'card p-6';
            riskCard.innerHTML = `
                <h3 class="text-lg font-bold text-red-700 mb-3">${risk.title}</h3>
                <div>
                    <h4 class="font-semibold text-sm text-gray-500">è¿½è¹¤æŒ‡æ¨™</h4>
                    <p class="text-sm text-gray-700 mb-3">${risk.tracker}</p>
                    <h4 class="font-semibold text-sm text-gray-500">æ”¹å–„æ–¹æ¡ˆ</h4>
                    <p class="text-sm text-gray-700">${risk.plan}</p>
                </div>
            `;
            risksContainer.appendChild(riskCard);
        });

        // --- Details Toggling Logic ---
        window.toggleDetails = function(id) {
            const element = document.getElementById(id);
            const isHidden = element.style.maxHeight === '0px' || !element.style.maxHeight;
            if (isHidden) {
                element.style.maxHeight = element.scrollHeight + 'px';
            } else {
                element.style.maxHeight = '0px';
            }
        }

        // --- Initial Render ---
        animateCounters();
        document.querySelector('.quarter-tab[data-quarter="q1"]').click();
    });
    </script>
</body>
</html>
